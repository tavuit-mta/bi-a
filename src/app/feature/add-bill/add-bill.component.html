<h2 mat-dialog-title>
    {{ isViewMode ? !isServerMode ? 'Xem bill' : 'Sửa bill' : 'Thêm bill' }}
</h2>
<mat-dialog-content [formGroup]="form" class="add-game-dialog-content">
    <mat-form-field class="full-width winner-select" appearance="fill" subscriptSizing="dynamic">
        <mat-select class="winner-input" formControlName="payer" placeholder="Chọn người thanh toán">
            @for (player of players; track player) {
            <mat-option [value]="player.index">{{player.name}}</mat-option>
            }
        </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill" class="bank-input" subscriptSizing="dynamic">
        <input class="input-field" matInput numberPattern formControlName="amount"
            [currencyMask]="{ prefix: '', suffix: ' đ', precision: 0 }" pattern="[0-9]*" />
    </mat-form-field>
    <ng-container *ngIf="form.value?.payer !== null && form.value?.payer !== undefined">
        <mat-selection-list formControlName="debtors" name="debtors">
            @for (player of players; track player) {
                <mat-list-option [value]="player.index">{{player.name}}</mat-list-option>
            }
        </mat-selection-list>
    </ng-container>
</mat-dialog-content>

<mat-dialog-actions>
    <div class="add-player-actions">
        <button mat-raised-button color="warn" (click)="cancel()">Hủy</button>
        <button mat-raised-button color="primary" (click)="save()" *ngIf="isServerMode">
            Lưu
        </button>
    </div>
</mat-dialog-actions>